var F=Object.defineProperty;var N=(n,s,a)=>s in n?F(n,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[s]=a;var t=(n,s,a)=>(N(n,typeof s!="symbol"?s+"":s,a),a);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const X of r)if(X.type==="childList")for(const f of X.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function a(r){const X={};return r.integrity&&(X.integrity=r.integrity),r.referrerpolicy&&(X.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?X.credentials="include":r.crossorigin==="anonymous"?X.credentials="omit":X.credentials="same-origin",X}function c(r){if(r.ep)return;r.ep=!0;const X=a(r);fetch(r.href,X)}})();const u=320,h=240,E=1;function d(n){return JSON.parse(JSON.stringify(n))}class o{constructor(){t(this,"_keys");this._keys=[]}keydownEventHandler(s){this._keys[s.keyCode]=!0}keyupEventHandler(s){this._keys[s.keyCode]=!1}bindEvents(){document.body.addEventListener("keydown",this.keydownEventHandler.bind(this)),document.body.addEventListener("keyup",this.keyupEventHandler.bind(this))}getState(){const s=new g;return s.setKeys(d(this._keys)),s}}class g{constructor(){t(this,"keys",[])}setKeys(s){this.keys=s}}const A=new o;class b{constructor(){t(this,"_x");t(this,"_y");t(this,"_buttons");this._x=0,this._y=0,this._buttons=[!1,!1,!1]}pressEventHandler(s){this._buttons[s.button]=!0}releaseEventHandler(s){this._buttons[s.button]=!1}moveEventHandler(s){s.target&&(this._x=s.offsetX/E,this._y=s.offsetY/E)}cancelEventHandler(){}getState(){const s=new y;return s.x=d(this._x),s.y=d(this._y),s.buttons=d(this._buttons),s}bindEvent(s){s.addEventListener("mousedown",this.pressEventHandler.bind(this)),s.addEventListener("mousemove",this.moveEventHandler.bind(this)),s.addEventListener("mouseup",this.releaseEventHandler.bind(this)),s.addEventListener("mouseout",this.cancelEventHandler.bind(this))}}class y{constructor(){t(this,"x",0);t(this,"y",0);t(this,"buttons",[!1,!1,!1])}}const p=new b;class l{constructor(s,a){t(this,"_context");t(this,"_secondsPassed",0);t(this,"_oldTimeStamp",0);t(this,"_fps",0);t(this,"_running",!1);t(this,"_update");t(this,"_test",0);s.style.width=Math.floor(u*E)+"px",s.style.height=Math.floor(h*E)+"px",s.style.imageRendering="pixelated",s.style.imageRendering="-webkit-optimize-contrast",s.width=u,s.height=h,this._context=s.getContext("2d"),this._context.fillStyle="white",this._update=a,p.bindEvent(s),A.bindEvents()}loop(s=0){this._secondsPassed=s-this._oldTimeStamp,this._oldTimeStamp=s,this._update(this._context,this._secondsPassed),window.requestAnimationFrame(this.loop.bind(this))}run(){this._running||this.loop()}}const i=class{constructor(s,a,c,r=255){t(this,"_r");t(this,"_g");t(this,"_b");t(this,"_a");this._r=Math.floor(s),this._g=Math.floor(a),this._b=Math.floor(c),this._a=Math.floor(r)}get R(){return this._r}get G(){return this._g}get B(){return this._b}get A(){return this._a}ToHEXWithA(s){return i.RGBAtoHEX(this._r,this._g,this.B,s)}ToHEX(s=!1){return s?i.RGBAtoHEX(this._r,this._g,this.B,this.A):i.RGBtoHEX(this._r,this._g,this.B)}};let e=i;t(e,"FromHEX",(s,a=1)=>{const[c,r,X]=s.match(/\w\w/g).map(f=>parseInt(f,16));return new i(c,r,X,parseInt((a*255).toString()))}),t(e,"FromHEXXNA",(s,a=1)=>{const[c,r,X]=s.match(/\w\w/g).map(f=>parseInt(f,16));return new i(X,r,c,parseInt((a*255).toString()))}),t(e,"RGBtoHEX",(s,a,c)=>{let X=(s+","+a+","+c).match(/^[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return X&&X.length===4?"#"+("0"+parseInt(X[1],10).toString(16)).slice(-2)+("0"+parseInt(X[2],10).toString(16)).slice(-2)+("0"+parseInt(X[3],10).toString(16)).slice(-2):""}),t(e,"RGBAtoHEX",(s,a,c,r)=>{let f=(s+","+a+","+c+","+r).match(/^[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return f&&f.length===5?"#"+("0"+parseInt(f[1],10).toString(16)).slice(-2)+("0"+parseInt(f[2],10).toString(16)).slice(-2)+("0"+parseInt(f[3],10).toString(16)).slice(-2)+("0"+parseInt(f[4],10).toString(16)).slice(-2):""}),t(e,"Transparent",i.FromHEXXNA("#000000",0)),t(e,"AliceBlue",i.FromHEXXNA("#fff8f0",1)),t(e,"AntiqueWhite",i.FromHEXXNA("#d7ebfa",1)),t(e,"Aqua",i.FromHEXXNA("#ffff00",1)),t(e,"Aquamarine",i.FromHEXXNA("#d4ff7f",1)),t(e,"Azure",i.FromHEXXNA("#fffff0",1)),t(e,"Beige",i.FromHEXXNA("#dcf5f5",1)),t(e,"Bisque",i.FromHEXXNA("#c4e4ff",1)),t(e,"Black",i.FromHEXXNA("#000000",1)),t(e,"BlanchedAlmond",i.FromHEXXNA("#cdebff",1)),t(e,"Blue",i.FromHEXXNA("#ff0000",1)),t(e,"BlueViolet",i.FromHEXXNA("#e22b8a",1)),t(e,"Brown",i.FromHEXXNA("#2a2aa5",1)),t(e,"BurlyWood",i.FromHEXXNA("#87b8de",1)),t(e,"CadetBlue",i.FromHEXXNA("#a09e5f",1)),t(e,"Chartreuse",i.FromHEXXNA("#00ff7f",1)),t(e,"Chocolate",i.FromHEXXNA("#1e69d2",1)),t(e,"Coral",i.FromHEXXNA("#507fff",1)),t(e,"CornflowerBlue",i.FromHEXXNA("#ed9564",1)),t(e,"Cornsilk",i.FromHEXXNA("#dcf8ff",1)),t(e,"Crimson",i.FromHEXXNA("#3c14dc",1)),t(e,"Cyan",i.FromHEXXNA("#ffff00",1)),t(e,"DarkBlue",i.FromHEXXNA("#8b0000",1)),t(e,"DarkCyan",i.FromHEXXNA("#8b8b00",1)),t(e,"DarkGoldenrod",i.FromHEXXNA("#0b86b8",1)),t(e,"DarkGray",i.FromHEXXNA("#a9a9a9",1)),t(e,"DarkGreen",i.FromHEXXNA("#006400",1)),t(e,"DarkKhaki",i.FromHEXXNA("#6bb7bd",1)),t(e,"DarkMagenta",i.FromHEXXNA("#8b008b",1)),t(e,"DarkOliveGreen",i.FromHEXXNA("#2f6b55",1)),t(e,"DarkOrange",i.FromHEXXNA("#008cff",1)),t(e,"DarkOrchid",i.FromHEXXNA("#cc3299",1)),t(e,"DarkRed",i.FromHEXXNA("#00008b",1)),t(e,"DarkSalmon",i.FromHEXXNA("#7a96e9",1)),t(e,"DarkSeaGreen",i.FromHEXXNA("#8bbc8f",1)),t(e,"DarkSlateBlue",i.FromHEXXNA("#8b3d48",1)),t(e,"DarkSlateGray",i.FromHEXXNA("#4f4f2f",1)),t(e,"DarkTurquoise",i.FromHEXXNA("#d1ce00",1)),t(e,"DarkViolet",i.FromHEXXNA("#d30094",1)),t(e,"DeepPink",i.FromHEXXNA("#9314ff",1)),t(e,"DeepSkyBlue",i.FromHEXXNA("#ffbf00",1)),t(e,"DimGray",i.FromHEXXNA("#696969",1)),t(e,"DodgerBlue",i.FromHEXXNA("#ff901e",1)),t(e,"Firebrick",i.FromHEXXNA("#2222b2",1)),t(e,"FloralWhite",i.FromHEXXNA("#f0faff",1)),t(e,"ForestGreen",i.FromHEXXNA("#228b22",1)),t(e,"Fuchsia",i.FromHEXXNA("#ff00ff",1)),t(e,"Gainsboro",i.FromHEXXNA("#dcdcdc",1)),t(e,"GhostWhite",i.FromHEXXNA("#fff8f8",1)),t(e,"Gold",i.FromHEXXNA("#00d7ff",1)),t(e,"Goldenrod",i.FromHEXXNA("#20a5da",1)),t(e,"Gray",i.FromHEXXNA("#808080",1)),t(e,"Green",i.FromHEXXNA("#008000",1)),t(e,"GreenYellow",i.FromHEXXNA("#2fffad",1)),t(e,"Honeydew",i.FromHEXXNA("#f0fff0",1)),t(e,"HotPink",i.FromHEXXNA("#b469ff",1)),t(e,"IndianRed",i.FromHEXXNA("#5c5ccd",1)),t(e,"Indigo",i.FromHEXXNA("#82004b",1)),t(e,"Ivory",i.FromHEXXNA("#f0ffff",1)),t(e,"Khaki",i.FromHEXXNA("#8ce6f0",1)),t(e,"Lavender",i.FromHEXXNA("#fae6e6",1)),t(e,"LavenderBlush",i.FromHEXXNA("#f5f0ff",1)),t(e,"LawnGreen",i.FromHEXXNA("#00fc7c",1)),t(e,"LemonChiffon",i.FromHEXXNA("#cdfaff",1)),t(e,"LightBlue",i.FromHEXXNA("#e6d8ad",1)),t(e,"LightCoral",i.FromHEXXNA("#8080f0",1)),t(e,"LightCyan",i.FromHEXXNA("#ffffe0",1)),t(e,"LightGoldenrodYellow",i.FromHEXXNA("#d2fafa",1)),t(e,"LightGray",i.FromHEXXNA("#d3d3d3",1)),t(e,"LightGreen",i.FromHEXXNA("#90ee90",1)),t(e,"LightPink",i.FromHEXXNA("#c1b6ff",1)),t(e,"LightSalmon",i.FromHEXXNA("#7aa0ff",1)),t(e,"LightSeaGreen",i.FromHEXXNA("#aab220",1)),t(e,"LightSkyBlue",i.FromHEXXNA("#face87",1)),t(e,"LightSlateGray",i.FromHEXXNA("#998877",1)),t(e,"LightSteelBlue",i.FromHEXXNA("#dec4b0",1)),t(e,"LightYellow",i.FromHEXXNA("#e0ffff",1)),t(e,"Lime",i.FromHEXXNA("#00ff00",1)),t(e,"LimeGreen",i.FromHEXXNA("#32cd32",1)),t(e,"Linen",i.FromHEXXNA("#e6f0fa",1)),t(e,"Magenta",i.FromHEXXNA("#ff00ff",1)),t(e,"Maroon",i.FromHEXXNA("#000080",1)),t(e,"MediumAquamarine",i.FromHEXXNA("#aacd66",1)),t(e,"MediumBlue",i.FromHEXXNA("#cd0000",1)),t(e,"MediumOrchid",i.FromHEXXNA("#d355ba",1)),t(e,"MediumPurple",i.FromHEXXNA("#db7093",1)),t(e,"MediumSeaGreen",i.FromHEXXNA("#71b33c",1)),t(e,"MediumSlateBlue",i.FromHEXXNA("#ee687b",1)),t(e,"MediumSpringGreen",i.FromHEXXNA("#9afa00",1)),t(e,"MediumTurquoise",i.FromHEXXNA("#ccd148",1)),t(e,"MediumVioletRed",i.FromHEXXNA("#8515c7",1)),t(e,"MidnightBlue",i.FromHEXXNA("#701919",1)),t(e,"MintCream",i.FromHEXXNA("#fafff5",1)),t(e,"MistyRose",i.FromHEXXNA("#e1e4ff",1)),t(e,"Moccasin",i.FromHEXXNA("#b5e4ff",1)),t(e,"NavajoWhite",i.FromHEXXNA("#addeff",1)),t(e,"Navy",i.FromHEXXNA("#800000",1)),t(e,"OldLace",i.FromHEXXNA("#e6f5fd",1)),t(e,"Olive",i.FromHEXXNA("#008080",1)),t(e,"OliveDrab",i.FromHEXXNA("#238e6b",1)),t(e,"Orange",i.FromHEXXNA("#00a5ff",1)),t(e,"OrangeRed",i.FromHEXXNA("#0045ff",1)),t(e,"Orchid",i.FromHEXXNA("#d670da",1)),t(e,"PaleGoldenrod",i.FromHEXXNA("#aae8ee",1)),t(e,"PaleGreen",i.FromHEXXNA("#98fb98",1)),t(e,"PaleTurquoise",i.FromHEXXNA("#eeeeaf",1)),t(e,"PaleVioletRed",i.FromHEXXNA("#9370db",1)),t(e,"PapayaWhip",i.FromHEXXNA("#d5efff",1)),t(e,"PeachPuff",i.FromHEXXNA("#b9daff",1)),t(e,"Peru",i.FromHEXXNA("#3f85cd",1)),t(e,"Pink",i.FromHEXXNA("#cbc0ff",1)),t(e,"Plum",i.FromHEXXNA("#dda0dd",1)),t(e,"PowderBlue",i.FromHEXXNA("#e6e0b0",1)),t(e,"Purple",i.FromHEXXNA("#800080",1)),t(e,"Red",i.FromHEXXNA("#0000ff",1)),t(e,"RosyBrown",i.FromHEXXNA("#8f8fbc",1)),t(e,"RoyalBlue",i.FromHEXXNA("#e16941",1)),t(e,"SaddleBrown",i.FromHEXXNA("#13458b",1)),t(e,"Salmon",i.FromHEXXNA("#7280fa",1)),t(e,"SandyBrown",i.FromHEXXNA("#60a4f4",1)),t(e,"SeaGreen",i.FromHEXXNA("#578b2e",1)),t(e,"SeaShell",i.FromHEXXNA("#eef5ff",1)),t(e,"Sienna",i.FromHEXXNA("#2d52a0",1)),t(e,"Silver",i.FromHEXXNA("#c0c0c0",1)),t(e,"SkyBlue",i.FromHEXXNA("#ebce87",1)),t(e,"SlateBlue",i.FromHEXXNA("#cd5a6a",1)),t(e,"SlateGray",i.FromHEXXNA("#908070",1)),t(e,"Snow",i.FromHEXXNA("#fafaff",1)),t(e,"SpringGreen",i.FromHEXXNA("#7fff00",1)),t(e,"SteelBlue",i.FromHEXXNA("#b48246",1)),t(e,"Tan",i.FromHEXXNA("#8cb4d2",1)),t(e,"Teal",i.FromHEXXNA("#808000",1)),t(e,"Thistle",i.FromHEXXNA("#d8bfd8",1)),t(e,"Tomato",i.FromHEXXNA("#4763ff",1)),t(e,"Turquoise",i.FromHEXXNA("#d0e040",1)),t(e,"Violet",i.FromHEXXNA("#ee82ee",1)),t(e,"Wheat",i.FromHEXXNA("#b3def5",1)),t(e,"White",i.FromHEXXNA("#ffffff",1)),t(e,"WhiteSmoke",i.FromHEXXNA("#f5f5f5",1)),t(e,"Yellow",i.FromHEXXNA("#00ffff",1)),t(e,"YellowGreen",i.FromHEXXNA("#32cd9a",1));class m{constructor(s=0,a=0){t(this,"X");t(this,"Y");this.X=s,this.Y=a}static get Zero(){return new m}static get Left(){return new m(-1,0)}static get Right(){return new m(1,0)}static get Up(){return new m(0,-1)}static get Down(){return new m(0,1)}}class k{constructor(){t(this,"_position",m.Zero);t(this,"_rotation",17);t(this,"_rotationSpeed",1);t(this,"_longeur",20)}update(s){this._rotation=this._rotation+this._rotationSpeed+1*s,this._rotation>360&&(this._rotation-=360),this._rotation<0&&(this._rotation+=360)}draw(s){let a=this._rotation*Math.PI/180,c=Math.cos(a),r=Math.sin(a);s.strokeStyle="black",s.lineWidth=3,s.beginPath(),s.moveTo(this._position.X-c*(this._longeur+2)+.5,this._position.Y-r*(this._longeur+2)+.5),s.lineTo(this._position.X+c*(this._longeur+2)+.5,this._position.Y+r*(this._longeur+2)+.5),s.stroke(),s.closePath(),s.strokeStyle="yellow",s.lineWidth=2,s.beginPath(),s.moveTo(this._position.X-c*this._longeur+.5,this._position.Y-r*this._longeur+.5),s.lineTo(this._position.X+c*this._longeur+.5,this._position.Y+r*this._longeur+.5),s.stroke(),s.closePath(),s.strokeStyle=e.Indigo.ToHEX(),s.beginPath(),s.arc(this._position.X,this._position.Y,2,0,2*Math.PI),s.stroke()}}class S{constructor(){t(this,"x",30);t(this,"y",30);t(this,"kuru");this.kuru=new k,this.kuru._position=new m(100,100)}update(s){const a=A.getState();a.keys[68]&&(this.kuru._position.X+=s/3),a.keys[65]&&(this.kuru._position.X-=s/3),a.keys[87]&&(this.kuru._position.Y-=s/3),a.keys[83]&&(this.kuru._position.Y+=s/3),this.kuru.update(s)}draw(s){this.clear(s),this.kuru.draw(s)}clear(s){const a=s.fillStyle;s.fillStyle=e.LightSkyBlue.ToHEX(),s.fillRect(0,0,u,h),s.fillStyle=a}}const H=new S,w=document.querySelector("#game"),G=new l(w,(n,s)=>{H.update(s),H.draw(n)});G.run();
